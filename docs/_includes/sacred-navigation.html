<!-- Sacred Team Enhanced Navigation -->
<!-- Interactive/Active/Connect patterns from medicine.git -->

<nav class="sacred-navigation" role="navigation" aria-label="Sacred Team Documentation Navigation">
    
    <!-- Quick Search -->
    <div class="sacred-search">
        <div class="search-container">
            <input type="text" 
                   class="search-input" 
                   placeholder="üîç Search Sacred Documentation..."
                   aria-label="Search documentation"
                   data-translate-placeholder="ui.search">
            <div class="search-results" style="display: none;"></div>
        </div>
    </div>
    
    <!-- Main Navigation Sections -->
    <div class="nav-sections">
        
        <!-- Foundation Section -->
        <div class="nav-section" data-section="foundation">
            <h3 class="section-header" data-translate="ui.foundation">
                <span class="section-icon">üèóÔ∏è</span>
                <span class="section-title">Foundation</span>
                <span class="section-toggle">‚ñº</span>
            </h3>
            <ul class="nav-links">
                <li>
                    <a href="/docs/" class="nav-link" data-translate="ui.home">
                        <span class="link-icon">üè†</span>
                        <span class="link-text">Home</span>
                    </a>
                </li>
                <li>
                    <a href="/docs/02_DEVELOPMENT/GETTING_STARTED.md" class="nav-link" data-translate="ui.getting_started">
                        <span class="link-icon">üöÄ</span>
                        <span class="link-text">Getting Started</span>
                    </a>
                </li>
                <li>
                    <a href="/docs/01_ARCHITECTURE/" class="nav-link" data-translate="ui.architecture">
                        <span class="link-icon">üèõÔ∏è</span>
                        <span class="link-text">Architecture</span>
                    </a>
                </li>
            </ul>
        </div>
        
        <!-- Development Section -->
        <div class="nav-section" data-section="development">
            <h3 class="section-header" data-translate="ui.development">
                <span class="section-icon">üíª</span>
                <span class="section-title">Development</span>
                <span class="section-toggle">‚ñº</span>
            </h3>
            <ul class="nav-links">
                <li>
                    <a href="/docs/02_DEVELOPMENT/" class="nav-link" data-translate="development.setup">
                        <span class="link-icon">‚öôÔ∏è</span>
                        <span class="link-text">Setup</span>
                    </a>
                </li>
                <li>
                    <a href="/docs/03_API/" class="nav-link" data-translate="ui.api_reference">
                        <span class="link-icon">üîß</span>
                        <span class="link-text">API Reference</span>
                    </a>
                </li>
                <li>
                    <a href="/docs/04_USER_GUIDES/" class="nav-link" data-translate="ui.user_guides">
                        <span class="link-icon">üìñ</span>
                        <span class="link-text">User Guides</span>
                    </a>
                </li>
            </ul>
        </div>
        
        <!-- Sacred Team Section -->
        <div class="nav-section" data-section="sacred-team">
            <h3 class="section-header" data-translate="ui.sacred_chronicles">
                <span class="section-icon">üêù</span>
                <span class="section-title">Sacred Team</span>
                <span class="section-toggle">‚ñº</span>
            </h3>
            <ul class="nav-links">
                <li>
                    <a href="/docs/sacred-team/" class="nav-link" data-translate="ui.team_coordination">
                        <span class="link-icon">ü§ù</span>
                        <span class="link-text">Team Coordination</span>
                    </a>
                </li>
                <li>
                    <a href="/docs/sacred-team/chronicles/" class="nav-link" data-translate="ui.sacred_chronicles">
                        <span class="link-icon">üìö</span>
                        <span class="link-text">Chronicles</span>
                    </a>
                </li>
                <li>
                    <a href="/docs/sacred-team/reviews/" class="nav-link" data-translate="collaboration.review">
                        <span class="link-icon">‚≠ê</span>
                        <span class="link-text">Reviews</span>
                    </a>
                </li>
            </ul>
        </div>
        
        <!-- ATCG Patterns Section -->
        <div class="nav-section" data-section="atcg">
            <h3 class="section-header" data-translate="atcg.atcg_patterns">
                <span class="section-icon">üß¨</span>
                <span class="section-title">ATCG Patterns</span>
                <span class="section-toggle">‚ñº</span>
            </h3>
            <ul class="nav-links">
                <li>
                    <a href="/docs/01_ARCHITECTURE/" class="nav-link" data-translate="atcg.aggregate">
                        <span class="link-icon">üèóÔ∏è</span>
                        <span class="link-text">Aggregate</span>
                    </a>
                </li>
                <li>
                    <a href="/docs/01_ARCHITECTURE/" class="nav-link" data-translate="atcg.transformation">
                        <span class="link-icon">üîÑ</span>
                        <span class="link-text">Transformation</span>
                    </a>
                </li>
                <li>
                    <a href="/docs/01_ARCHITECTURE/" class="nav-link" data-translate="atcg.connector">
                        <span class="link-icon">üîó</span>
                        <span class="link-text">Connector</span>
                    </a>
                </li>
                <li>
                    <a href="/docs/01_ARCHITECTURE/" class="nav-link" data-translate="atcg.genesis_event">
                        <span class="link-icon">‚ú®</span>
                        <span class="link-text">Genesis Event</span>
                    </a>
                </li>
            </ul>
        </div>
        
    </div>
    
    <!-- Cross-Reference Quick Links -->
    <div class="cross-references">
        <h4 class="cross-ref-header">
            <span class="cross-ref-icon">üîó</span>
            <span data-translate="ui.quick_links">Quick Links</span>
        </h4>
        <div class="quick-links">
            <a href="/docs/sacred-team/coordination/" class="quick-link" title="Sacred Team Coordination">
                <span class="quick-icon">üéØ</span>
                <span class="quick-text">Coordination</span>
            </a>
            <a href="/docs/sacred-team/chronicles/" class="quick-link" title="Sacred Chronicles">
                <span class="quick-icon">üìñ</span>
                <span class="quick-text">Chronicles</span>
            </a>
            <a href="/docs/02_DEVELOPMENT/GETTING_STARTED.md" class="quick-link" title="Getting Started">
                <span class="quick-icon">üöÄ</span>
                <span class="quick-text">Start</span>
            </a>
            <a href="/docs/03_API/" class="quick-link" title="API Reference">
                <span class="quick-icon">üîß</span>
                <span class="quick-text">API</span>
            </a>
        </div>
    </div>
    
    <!-- Sacred Team Status Indicator -->
    <div class="sacred-status">
        <div class="status-indicator">
            <span class="status-icon">üêù</span>
            <span class="status-text" data-translate="status.active">Active</span>
            <span class="status-pulse"></span>
        </div>
        <div class="hive-metrics">
            <span class="metric" title="Documentation Health">
                <span class="metric-icon">üíö</span>
                <span class="metric-value">98%</span>
            </span>
            <span class="metric" title="Translation Coverage">
                <span class="metric-icon">üåê</span>
                <span class="metric-value">45%</span>
            </span>
        </div>
    </div>
    
</nav>

<!-- Interactive Navigation Script -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    initializeSacredNavigation();
});

function initializeSacredNavigation() {
    // Section collapsing/expanding
    document.querySelectorAll('.section-header').forEach(header => {
        header.addEventListener('click', function() {
            const section = this.parentElement;
            const toggle = this.querySelector('.section-toggle');
            const links = section.querySelector('.nav-links');
            
            section.classList.toggle('collapsed');
            
            if (section.classList.contains('collapsed')) {
                toggle.textContent = '‚ñ∂';
                links.style.display = 'none';
            } else {
                toggle.textContent = '‚ñº';
                links.style.display = 'block';
            }
        });
    });
    
    // Highlight current page
    const currentPath = window.location.pathname;
    document.querySelectorAll('.nav-link').forEach(link => {
        const href = link.getAttribute('href');
        if (href && (currentPath === href || currentPath.includes(href))) {
            link.classList.add('current');
            
            // Expand parent section
            const section = link.closest('.nav-section');
            if (section) {
                section.classList.remove('collapsed');
            }
        }
    });
    
    // Search functionality
    const searchInput = document.querySelector('.search-input');
    const searchResults = document.querySelector('.search-results');
    
    if (searchInput && searchResults) {
        searchInput.addEventListener('input', function(e) {
            performSacredSearch(e.target.value, searchResults);
        });
        
        // Hide results when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.sacred-search')) {
                searchResults.style.display = 'none';
            }
        });
    }
    
    // Sacred Team animations
    initializeSacredAnimations();
}

function performSacredSearch(query, resultsContainer) {
    if (!query || query.length < 2) {
        resultsContainer.style.display = 'none';
        return;
    }
    
    // Simple search through navigation links
    const results = [];
    const queryLower = query.toLowerCase();
    
    document.querySelectorAll('.nav-link').forEach(link => {
        const text = link.textContent.toLowerCase();
        const href = link.getAttribute('href');
        
        if (text.includes(queryLower)) {
            results.push({
                text: link.textContent.trim(),
                href: href,
                icon: link.querySelector('.link-icon')?.textContent || 'üìÑ'
            });
        }
    });
    
    // Display results
    if (results.length === 0) {
        resultsContainer.innerHTML = '<div class="no-results">No results found</div>';
    } else {
        resultsContainer.innerHTML = results.map(result => `
            <a href="${result.href}" class="search-result">
                <span class="result-icon">${result.icon}</span>
                <span class="result-text">${result.text}</span>
            </a>
        `).join('');
    }
    
    resultsContainer.style.display = 'block';
}

function initializeSacredAnimations() {
    // Gentle pulse for sacred elements
    const sacredElements = document.querySelectorAll('.sacred-status .status-icon, .section-icon');
    sacredElements.forEach(element => {
        element.style.animation = 'gentle-pulse 3s ease-in-out infinite';
    });
    
    // Hover effects for navigation links
    document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('mouseenter', function() {
            this.style.transform = 'translateX(5px)';
        });
        
        link.addEventListener('mouseleave', function() {
            this.style.transform = 'translateX(0)';
        });
    });
}
</script>

<!-- Sacred Navigation Styling -->
<style>
.sacred-navigation {
    background: linear-gradient(135deg, #FFF8DC 0%, #F0E68C 100%);
    border: 2px solid #FFD700;
    border-radius: 15px;
    padding: 20px;
    margin: 20px 0;
    box-shadow: 0 8px 25px rgba(255, 215, 0, 0.2);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

/* Search Styling */
.sacred-search {
    margin-bottom: 25px;
}

.search-container {
    position: relative;
}

.search-input {
    width: 100%;
    padding: 12px 20px;
    border: 2px solid #FFD700;
    border-radius: 25px;
    background: white;
    font-size: 14px;
    outline: none;
    transition: all 0.3s ease;
}

.search-input:focus {
    border-color: #FF6B35;
    box-shadow: 0 0 10px rgba(255, 107, 53, 0.3);
}

.search-results {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: white;
    border: 2px solid #FFD700;
    border-top: none;
    border-radius: 0 0 15px 15px;
    max-height: 200px;
    overflow-y: auto;
    z-index: 100;
}

.search-result {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 15px;
    text-decoration: none;
    color: #2F4F4F;
    border-bottom: 1px solid #f0f0f0;
    transition: background 0.2s ease;
}

.search-result:hover {
    background: #FFF8DC;
}

.no-results {
    padding: 15px;
    text-align: center;
    color: #8B4513;
    font-style: italic;
}

/* Section Styling */
.nav-section {
    margin-bottom: 20px;
}

.section-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin: 0 0 10px 0;
    padding: 10px;
    background: rgba(255, 215, 0, 0.3);
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    color: #8B4513;
    font-size: 16px;
    font-weight: bold;
}

.section-header:hover {
    background: rgba(255, 215, 0, 0.5);
    transform: translateY(-1px);
}

.section-toggle {
    margin-left: auto;
    font-size: 12px;
    transition: transform 0.3s ease;
}

.nav-section.collapsed .section-toggle {
    transform: rotate(-90deg);
}

/* Navigation Links */
.nav-links {
    list-style: none;
    padding: 0;
    margin: 0;
    transition: all 0.3s ease;
}

.nav-links li {
    margin-bottom: 5px;
}

.nav-link {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 15px;
    text-decoration: none;
    color: #2F4F4F;
    border-radius: 8px;
    transition: all 0.3s ease;
    font-size: 14px;
}

.nav-link:hover {
    background: rgba(255, 215, 0, 0.2);
    color: #8B4513;
    transform: translateX(5px);
}

.nav-link.current {
    background: #FFD700;
    color: #8B4513;
    font-weight: bold;
    box-shadow: 0 2px 8px rgba(255, 215, 0, 0.4);
}

.link-icon {
    font-size: 16px;
    width: 20px;
    text-align: center;
}

/* Cross References */
.cross-references {
    margin-top: 25px;
    padding-top: 20px;
    border-top: 2px solid rgba(255, 215, 0, 0.3);
}

.cross-ref-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 15px;
    color: #8B4513;
    font-size: 14px;
    font-weight: bold;
}

.quick-links {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
    gap: 10px;
}

.quick-link {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
    padding: 10px;
    text-decoration: none;
    color: #2F4F4F;
    background: white;
    border: 1px solid #FFD700;
    border-radius: 10px;
    transition: all 0.3s ease;
    font-size: 12px;
}

.quick-link:hover {
    background: #FFD700;
    color: #8B4513;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 215, 0, 0.3);
}

.quick-icon {
    font-size: 18px;
}

/* Sacred Status */
.sacred-status {
    margin-top: 25px;
    padding-top: 20px;
    border-top: 2px solid rgba(255, 215, 0, 0.3);
}

.status-indicator {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 10px;
    color: #8B4513;
    font-size: 14px;
    font-weight: bold;
}

.status-pulse {
    width: 8px;
    height: 8px;
    background: #32CD32;
    border-radius: 50%;
    animation: pulse 2s ease-in-out infinite;
}

.hive-metrics {
    display: flex;
    gap: 15px;
}

.metric {
    display: flex;
    align-items: center;
    gap: 5px;
    font-size: 12px;
    color: #2F4F4F;
}

.metric-value {
    font-weight: bold;
    color: #8B4513;
}

/* Animations */
@keyframes gentle-pulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.05); opacity: 0.8; }
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* Mobile Responsiveness */
@media (max-width: 768px) {
    .sacred-navigation {
        margin: 10px 0;
        padding: 15px;
    }
    
    .quick-links {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .hive-metrics {
        flex-direction: column;
        gap: 8px;
    }
    
    .section-header {
        font-size: 14px;
    }
    
    .nav-link {
        font-size: 13px;
        padding: 6px 12px;
    }
}
</style>