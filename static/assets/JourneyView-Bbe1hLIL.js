import{d as x,x as _,p as h,c,o as i,e as o,a as w,k as b,t as m,F as L,b as k,f as C,y as S,z as $,s as f,r as B,i as G,v as I,j as n,Q as A}from"./index-Dnl9L5q-.js";const H=["points"],O=["x","y"],V=["x","y"],j={key:0,class:"organellas"},T=["x","y","href"],N=x({__name:"HexaLevel",props:{level:{},title:{},subtitle:{},points:{},x:{},y:{},organellas:{}},setup(y){const a=y,u=_(),d=h(()=>{let e="hex";return a.level===u.currentLevel?e+=" current-level":a.level<=u.level?e+=" solved-level":e+=" locked-level",e}),p=()=>{a.level<=u.level&&u.setCurrentLevel(a.level),console.log(`Selected level ${a.level}`)},v=(e,s)=>`data:image/svg+xml,${encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><text x="0" y="15">${{worker:{egg:"🥚",larva:"🐛",pupa:"🛡️",adult:"🐝"},scout:{egg:"🥚",larva:"🐛",pupa:"🛡️",adult:"🔍"},guard:{egg:"🥚",larva:"🐛",pupa:"🛡️",adult:"🛡️"},queen:{egg:"🥚",larva:"🐛",pupa:"🛡️",adult:"👑"},chronicler:{egg:"🥚",larva:"🐛",pupa:"🛡️",adult:"📜"},jules:{egg:"🥚",larva:"🐛",pupa:"🛡️",adult:"🔧"}}[e]?.[s]||"🐝"}</text></svg>`)}`;return(e,s)=>(i(),c("g",{class:"hexa-level",onClick:p},[o("polygon",{class:b(d.value),points:e.points},null,10,H),o("text",{x:e.x,y:e.y-15,class:"label title"},m(e.title),9,O),o("text",{x:e.x,y:e.y+10,class:"label cap"},m(e.subtitle),9,V),e.organellas.length>0?(i(),c("g",j,[(i(!0),c(L,null,k(e.organellas,(t,l)=>(i(),c("image",{key:t.id,x:e.x-20+l*20,y:e.y+20,width:"20",height:"20",href:v(t.type,t.stage)},null,8,T))),128))])):w("",!0)]))}}),r=C(N,[["__scopeId","data-v-426d5e62"]]),P={class:"journey-view"},U={class:"journey-map"},q={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 800 700",width:"800",height:"700","font-family":"monospace"},z=x({__name:"JourneyView",setup(y){const a=S(),u=$(),{organellas:d}=f(a),{currentUser:p}=f(u),v=B(!1),e={id:"genesis",name:"Genesis Chamber",description:"The birthplace of new organellas",type:"journey",created_by:"system",created_at:new Date().toISOString(),is_archived:!1,level:1,unlocked:!0,completed:!1,organellas:[],quests:[]};G(()=>{p.value?.id&&a.fetchOrganellas(p.value.id)});const s=h(()=>{const t={},l=d.value||[];for(const g of l)t[g.level]||(t[g.level]=[]),t[g.level].push(g);return t});return(t,l)=>(i(),c("div",P,[o("div",U,[(i(),c("svg",q,[l[3]||(l[3]=o("title",null,"Hive of Seven Levels — Hex Honeyprint",-1)),n(r,{level:7,title:"Level 7: Intent",subtitle:"Дух улья • смысл • цель",points:"310,350 355,272 445,272 490,350 445,428 355,428",x:400,y:350,organellas:s.value[7]||[]},null,8,["organellas"]),n(r,{level:6,title:"Level 6: Physics",subtitle:"OS • Network • CPU",points:"310,200 355,122 445,122 490,200 445,278 355,278",x:400,y:200,organellas:s.value[6]||[]},null,8,["organellas"]),n(r,{level:5,title:"Level 5: Implementation",subtitle:"Codeons • tests • clarity",points:"430,275 475,197 565,197 610,275 565,353 475,353",x:520,y:275,organellas:s.value[5]||[]},null,8,["organellas"]),n(r,{level:4,title:"Level 4: ATCG",subtitle:"A • T • C • G primitives",points:"430,425 475,347 565,347 610,425 565,503 475,503",x:520,y:425,organellas:s.value[4]||[]},null,8,["organellas"]),n(r,{level:3,title:"Level 3: Codons",subtitle:"C→A→G • C→T→C • G→C→A→G",points:"310,500 355,422 445,422 490,500 445,578 355,578",x:400,y:500,organellas:s.value[3]||[]},null,8,["organellas"]),n(r,{level:2,title:"Level 2: Cell",subtitle:"Bounded Context / API wall",points:"190,425 235,347 325,347 370,425 325,503 235,503",x:280,y:425,organellas:s.value[2]||[]},null,8,["organellas"]),n(r,{level:1,title:"Level 1: Organism",subtitle:"All Hives • whole system",points:"190,275 235,197 325,197 370,275 325,353 235,353",x:280,y:275,organellas:s.value[1]||[]},null,8,["organellas"]),o("g",{class:"pulse",transform:"translate(500,220)",onClick:l[0]||(l[0]=g=>v.value=!v.value)},[...l[2]||(l[2]=[o("circle",{r:"18",fill:"var(--color-quest)"},null,-1),o("text",{x:"0",y:"4","font-size":"20","text-anchor":"middle",fill:"#fff"},"?",-1)])])]))]),v.value?(i(),I(A,{key:0,room:e,onClose:l[1]||(l[1]=g=>v.value=!1)})):w("",!0)]))}}),R=C(z,[["__scopeId","data-v-1deb649c"]]);export{R as default};
